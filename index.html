<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<title>Resource Portal - Civil Society Cyber Shield</title>

	<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
	
	<link href="css/reset.css" rel="stylesheet">
	<link href="css/main.css?v=20171201" rel="stylesheet">
	<link href="css/rwd.css" rel="stylesheet">

	<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/elasticlunr/0.9.6/elasticlunr.min.js" defer></script>
	<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js" defer></script>
	<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.5.8/vue.js" defer></script>
	<script type="text/javascript" src="data/materials.js" defer></script>
	<script type="text/javascript" src="data/questions.js" defer></script>
	<script type="text/javascript" src="js/search.js" defer></script>
	<script type="text/javascript" src="js/main.js?v=20171127" defer></script>
</head>
<body>
	<header>
		<nav class="menu container">
			<h1 class="logo">
				<a href="/"><img src="img/logo_s.svg"></a>
			</h1>
			<ul>
				<li><a>About</a></li>
			</ul>
		</nav>
	</header>

	<main>
		<section class="top_sec">
			<div class="container">
				<div class="top_banner">
					<h1 class="logo">
						<img src="img/logo.svg">
					</h1>
					<h2>
						<i class="cs_red">D</i>efend for <i class="cs_green">D</i>efenders
					</h2>
					<p>
					Easy access to reliable digital security resources for activists
					</p>
				</div>

				<div class="curated">
					<div class="crt_head">
						<a id="crt_prev" class="crt_prev" @click="active_question = (active_question - 1) % questions.length"></a>
						<a id="crt_next" class="crt_next" @click="active_question = (active_question + 1) % questions.length"></a>
					</div>
					<div id="crt_body" class="crt_body">
						<div v-for="(question,index) in questions" :class="{ 'active': index === active_question }">
							<h4>{{question.question}}</h4>
							<button @click="showanswer(question.question)" class="red_btn answer">Answer</button>
						</div>
					</div>
					<ul id="crt_dots" class="crt_dots">
						<li v-for="(question,index) in questions" @click="active_question = index"><a :class="{ 'active': index === active_question }"></a></li>
					</ul>
				</div>
			</div>
		</section>

		<section class="main_sec">
			<div class="main_btns container">
				<button id="find_btn" :class="{ 'active': active_module === 'find' }" @click="active_module = 'find'; $refs.main_conts.scrollIntoView({behavior: 'smooth'});"><img src="img/btns-01.svg"><h3>Find</h3></button>
				<button id="wizard_btn" :class="{ 'active': active_module === 'wizard' || active_module === '' }" @click="active_module = 'wizard'; $refs.main_conts.scrollIntoView({behavior: 'smooth'})"><img src="img/btns-02.svg"><h3>Wizard</h3></button>
				<button id="library_btn" :class="{ 'active': active_module === 'library' }" @click="active_module = 'library'; $refs.main_conts.scrollIntoView({behavior: 'smooth'})"><img src="img/btns-03.svg"><h3>Library</h3></button>
			</div>
			<!-- contents -->
			<div ref="main_conts" class="main_conts" :class="{ 'active': active_module !== '' }">

				<div id="find_cont" :class="{ 'active': active_module === 'find' }">
					<div class="container">
						<form action="" autocomplete="on">
							<input v-model="searchterm" name="search" type="text" placeholder="What are you looking for?" @click="clearsearch()">
							<input id="search_submit" value="" type="submit">
							<label for="search_submit"><i class="material-icons">&#xE8B6;</i></label>
						</form>

						<ul v-show="!search_isanswer" class="result">
							<p>{{searchresults.length}} results</p>
							<li v-for="result in searchresults">
								<a v-bind:href="result.doc.link" target="_blank" onclick="click_result(this)">
									<span class="rs_img">
										<img v-bind:src="result.doc.image" />
										<h5>{{result.doc.link.split("/")[2]}}</h5>
									</span>
									<span class="rs_title">
										<h4>{{ result.doc.series }} - {{ result.doc.title }}</h4>
										<p>{{ result.doc.tagline }}</p>
									</span>
									<span class="rs_info">
										<span class="rank"><span class="stars" v-bind:data-rank="result.doc.difficulty"></span></span>
										<ul class="tabs">
											<li v-for="tag in result.doc.tags.split(',')" v-if="tag">{{tag}}</li>
										</ul>
										<p class="from">{{result.doc.link.split("/")[2]}}</p>
									</span>
								</a>
							</li>
							<p class="big" v-show="searchterm != ''">Can't find what you're looking for?</p>
							<button class="btn red_btn summon_btn" v-show="searchterm != ''">Summon Elfs</button>
						</ul>
						<ul v-show="search_isanswer" class="result">
							<p class="answer" v-html="questions[active_question].answer"></p><!-- 這裡的內容會被選定的問題的答案取代 -->
							<li v-for="result in searchresults">
								<a v-bind:href="result.doc.link" target="_blank" onclick="click_result(this)">
									<span class="rs_img">
										<img v-bind:src="result.doc.image" />
										<h5>{{result.doc.link.split("/",3)[2]}}</h5>
									</span>
									<span class="rs_title">
										<h4>{{ result.doc.series }} - {{ result.doc.title }}</h4>
										<p>{{ result.doc.tagline }}</p>
									</span>
									<span class="rs_info">
										<span class="rank"><span class="stars" v-bind:data-rank="result.doc.difficulty"></span></span>
										<ul class="tabs">
											<li v-for="tag in result.doc.tags.split(',')" v-if="tag">{{tag}}</li>
										</ul>
										<p class="from">{{result.doc.link.split("/",3)[2]}}</p>
									</span>
								</a>
							</li>
							<p class="big" v-show="searchterm != ''">Can't find what you're looking for?</p>
							<button class="btn red_btn summon_btn" v-show="searchterm != ''">Summon Elfs</button>
						</ul>
					</div>
				</div>

				<div id="wizard_cont" :class="{ 'active': active_module === 'wizard' }">
					<div class="container">
						<form class="wizard active" id="wizard_form">
							<p>Description</p>
							<p>Q1. Where are you from ?</p>
							<select name="country">
								<option value="hide">-- Country --</option>
								<option value="Taiwan">Taiwan</option>
								<option value="Taiwan">Taiwan</option>
							</select>
							<p>Q2. What are you ... ?</p>
							<input type="checkbox" name="platform" id="Windows" value="Windows">
							<label for="Windows">Windows</label>
							<input type="checkbox" name="platform" id="MacOS" value="MacOS">
							<label for="MacOS">MacOS</label>
							<input type="checkbox" name="platform" id="iOS" value="iOS">
							<label for="iOS">iOS</label>
							<input type="checkbox" name="platform" id="Android" value="Android">
							<label for="Android">Android</label>

							<input class="btn red_btn" type="submit" value="Submit">
						</form>

						<div id="wizard_result">
							<div class="row tcenter">
								<a class="back"><i class="material-icons">keyboard_arrow_left</i>back</a>
								<h3>Recommend Result</h3>
							</div>
							<ul class="result">
								<p>1 results</p>
								<li>
									<a target="_blank" onclick="click_result(this)">
										<span class="rs_img">
											<img src="" />
										</span>
										<span class="rs_title">
											<h4>title</h4>
											<p>description</p>
										</span>
										<span class="rs_info">
											<span class="rank"><span class="stars" data-rank="3"></span></span>
											<ul class="tabs">
												<li>tab1 test</li>
												<li>tab2</li>
											</ul>
											<p class="from">web.com</p>
										</span>
									</a>
								</li>
								<p class="big">Not what you are looking for?</p>
								<button class="btn red_btn summon_btn">Summon Elfs</button>
							</ul>
						</div>
					</div>
				</div>

				<div id="library_cont" :class="{ 'active': active_module === 'library' }">
					<div class="container">
						<p>Here's a list of everything we collected and reviewed:</p>
						<div class="lib_table">
							<div class="lib_thead">
								<span class="lib_tr">
									<span>Title</span>
									<span>Main Theme</span>
									<span>Format</span>
									<span>Difficulty</span>
								</span>
							</div>
							<div class="lib_tbody">
								<a v-for="material in materials.filter(material => material.title != '' && material.link != '')" class="lib_tr" v-bind:href="material.link" target="_blank">
									<span>{{material.series}} - {{material.title}}</span>
									<span>{{material.theme}}</span>
									<span><i class="material-icons" v-bind:data-icon="format_icon(material.format)"></i>{{material.format}}</span>
									<span><span class="difficulty"><span class="stars" v-bind:data-diff="material.difficulty"></span></span></span>
								</a>
							</div>
						</div>
					</div>
				</div>

			</div>
		</section>

		<section id="popup_wrap">
			<div id="popup_feedback" class="popup feedback">
				<div class="popup_head">
					<h5>Feedback</h5>
					<a class="popup_close"><i class="material-icons">close</i></a>
				</div>
				<div class="popup_body">
					<form action="">
						<p>How do you think this article?</p>
						<h4>Privacy International Explainers - What is privacy?</h4>
						<label for="rank" class="rank rank_enable"><span class="stars"></span></label>
						<input type="range" min="0" max="5" step="1" name="rank" id="thisrank" value="0">
						<input class="btn red_btn" type="submit" value="Submit">
					</form>
				</div>
				<div class="popup_foot"></div>
			</div>
			<div id="popup_summon" class="popup summon">
				<div class="popup_head">
					<h5>Summon Elfs</h5>
					<a class="popup_close"><i class="material-icons">close</i></a>
				</div>
				<div class="popup_body">
					<form action="">
						<label>Question</label>
						<textarea name="question" id="question" placeholder="Your Question" rows="4"></textarea>
						<label>Email</label>
						<input type="text" name="email" id="se_email" placeholder="Your Email">
						<input class="btn red_btn" type="submit" value="Submit">
					</form>
				</div>
				<div class="popup_foot emergency">
					<h6><i class="material-icons">error_outline</i>Emergency</h6>
					<h5>Contact us Info</h5>
					<p>Description</p>
				</div>
			</div>
		</section>
	</main>

	<footer>
		<section class="container">
			<div>
				<a href="https://ocf.tw/" class="logo" target="_blank"><img src="img/logos/logo_OCF.png"></a>
				<a href="https://ocf.tw/" target="_blank"><i class="material-icons">&#xE88A;</i>ocf.tw</a>
				<a href="mailto:hi@ocf.tw"><i class="material-icons">email</i>hi@ocf.tw</a>
			</div>
			<div>
				<h5>Partners</h5>
				<a class="logo" target="_blank"><img src="img/logos/logo_NSD.png"></a>
				<a class="logo" target="_blank"><img src="img/logos/logo_TAHR.png"></a>
				<a class="logo" target="_blank"><img src="img/logos/logo_HITC.png"></a>
				<a class="logo" target="_blank"><img src="img/logos/logo_IFC.png"></a>
			</div>
			<div>
				<h5>Funded by</h5>
				<a class="logo" target="_blank"><img src="img/logos/logo_TFD.png"></a>
			</div>
			<div>
				<h5>About this site</h5>
				<p>CSCS Resource Portal is an aggregator for Digital Security training materials that is categorized according to topic, form and difficulty, to allow activists to easily search for materials that suit their needs.</p>
			</div>
		</section>
	</footer>
</body>
</html>
